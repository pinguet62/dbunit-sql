language: java
jdk: oraclejdk8

script: # override default "mvn test -B"
    - mvn clean install -B

after_success:
    # Code coverage: report
    - bash <(curl -s https://codecov.io/bash) # CodeCov
    
    # Deploy: SNAPSHOT
    - echo '<settings><servers><server><id>ossrh</id><username>${env.OSSRH_USER}</username><password>${env.OSSRH_PASS}</password></server></servers></settings>' > deploy-settings.xml
    - "[[ ${TRAVIS_PULL_REQUEST} == 'false' ]] && [[ ${TRAVIS_TAG} == '' ]] && mvn deploy -DskipTests -Dgpg.skip --settings deploy-settings.xml"
